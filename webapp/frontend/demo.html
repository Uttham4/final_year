<!DOCTYPE html>
<html>

<head>
    <title>Razorpay Payment</title>
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
</head>

<body>
    <button id="payButton">Pay Now</button>

    <script>
        document.getElementById('payButton').onclick = function () {
            // Create fixed options directly on frontend
            var options = {
                "key": "rzp_test_L3zRDHReH9Csk5", // Replace with your key
                "amount": "1000", // Amount in paise
                "currency": "INR",
                "name": "Your Company",
                "description": "Test Transaction",
                "handler": function (response) {
                    // Send payment verification details directly
                    fetch('https://4n87vpnms5.execute-api.us-east-2.amazonaws.com/prod/verify', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            razorpay_payment_id: response.razorpay_payment_id,
                            razorpay_order_id: response.razorpay_order_id,
                            razorpay_signature: response.razorpay_signature
                        })
                    })
                        .then(response => response.json())
                        .then(data => {
                            if (data.status === 'success') {
                                alert('Payment successful');
                            } else {
                                alert('Payment verification failed');
                            }
                        })
                        .catch(error => {
                            console.error('Error:', error);
                            alert('Verification failed');
                        });
                },
                "prefill": {
                    "name": "Test User",
                    "email": "test@example.com",
                    "contact": "9999999999"
                },
                "theme": {
                    "color": "#3399cc"
                }
            };
            var rzp1 = new Razorpay(options);
            rzp1.open();
        };
    </script>
</body>

</html>